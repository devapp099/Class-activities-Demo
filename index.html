<!DOCTYPE html><html dir="rtl" lang="ar"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="theme-color" content="#00796B"><meta name="description" content="برنامج الأنشطة الصفية التفاعلي - مدرسة أبو القاسم الزهراوي"><meta name="keywords" content="تعليم, أنشطة, تفاعلي, مدرسة, عُمان"><meta name="author" content="الأستاذ أحمد بن عبدالله الضامري"><title>برنامج الأنشطة الصفية - مدرسة أبو القاسم الزهراوي</title><link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="icon" type="image/png" href="assets/media/images/school-logo.png"><link rel="stylesheet" href="assets/css/responsive.css"><style>*{max-width:100%!important;box-sizing:border-box!important}body,html{overflow-x:hidden!important;max-width:100vw!important;width:100%!important}article,aside,div,footer,header,main,nav,section{max-width:100%!important;overflow-x:hidden!important;box-sizing:border-box!important}:root{--primary-color:#00796B;--primary-light:#4DB6AC;--primary-dark:#004D40;--secondary-color:#FF5722;--accent-color:#FFD700;--success-color:#4CAF50;--warning-color:#FF9800;--error-color:#F44336;--text-primary:#212121;--text-secondary:#757575;--background-light:#FAFAFA;--surface-color:#FFFFFF;--shadow-light:rgba(0, 0, 0, 0.1);--shadow-medium:rgba(0, 0, 0, 0.2);--shadow-dark:rgba(0, 0, 0, 0.3);--border-radius:16px;--border-radius-small:8px;--spacing-xs:4px;--spacing-sm:8px;--spacing-md:16px;--spacing-lg:24px;--spacing-xl:32px;--transition-fast:0.2s ease-out;--transition-normal:0.3s ease-out;--transition-slow:0.5s ease-out}html{overflow-x:hidden!important;width:100%;max-width:100vw!important;box-sizing:border-box}*{box-sizing:border-box!important;margin:0;padding:0;max-width:100%!important}canvas,iframe,img,svg,video{max-width:100%!important;height:auto;box-sizing:border-box!important}div,h1,h2,h3,h4,h5,h6,p,span{word-wrap:break-word;overflow-wrap:break-word;hyphens:auto;max-width:100%!important}body{font-family:Cairo,sans-serif;background:linear-gradient(135deg,#e0f7fa 0,#b2dfdb 25%,#80cbc4 50%,#4db6ac 75%,#26a69a 100%);background-attachment:fixed;color:var(--text-primary);min-height:100vh;width:100%!important;max-width:100vw!important;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-lg);position:relative;overflow-x:hidden!important;box-sizing:border-box!important}body::before{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 20% 20%,rgba(255,215,0,.1) 0,transparent 50%),radial-gradient(circle at 80% 80%,rgba(0,121,107,.1) 0,transparent 50%),radial-gradient(circle at 40% 60%,rgba(255,87,34,.1) 0,transparent 50%);animation:backgroundShift 20s ease-in-out infinite;z-index:-1}@keyframes backgroundShift{0%,100%{transform:translate(0,0) rotate(0)}25%{transform:translate(-20px,20px) rotate(1deg)}50%{transform:translate(20px,-20px) rotate(-1deg)}75%{transform:translate(-10px,-10px) rotate(.5deg)}}.control-buttons{position:fixed;top:var(--spacing-md);right:var(--spacing-md);display:flex;gap:var(--spacing-sm);z-index:1000;max-width:calc(100vw - 32px)!important;box-sizing:border-box!important}.control-btn{width:50px;height:50px;border-radius:50%;border:none;background:rgba(255,255,255,.9);color:var(--primary-color);font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px var(--shadow-medium);transition:all var(--transition-normal);backdrop-filter:blur(10px)}.control-btn:hover{transform:translateY(-3px) scale(1.05);background:var(--primary-color);color:#fff;box-shadow:0 8px 20px var(--shadow-dark)}.control-btn:active{transform:translateY(0) scale(.95)}.designer-btn{position:fixed;bottom:var(--spacing-md);left:var(--spacing-md);width:60px;height:60px;border-radius:50%;border:none;background:linear-gradient(45deg,var(--primary-color),var(--primary-light));color:#fff;font-size:24px;cursor:pointer;box-shadow:0 6px 16px var(--shadow-medium);transition:all var(--transition-normal);z-index:1000;max-width:60px!important;box-sizing:border-box!important}.designer-btn:hover{transform:rotate(180deg) scale(1.1);box-shadow:0 10px 25px var(--shadow-dark)}.exit-btn{position:fixed;bottom:var(--spacing-md);right:var(--spacing-md);width:50px;height:50px;border-radius:50%;border:none;background:linear-gradient(45deg,var(--error-color),#d32f2f);color:#fff;font-size:20px;cursor:pointer;box-shadow:0 4px 12px rgba(244,67,54,.3);transition:all var(--transition-normal);z-index:1000}.exit-btn:hover{transform:scale(1.1);box-shadow:0 8px 20px rgba(244,67,54,.5)}.main-container{width:100%!important;max-width:min(500px,95vw)!important;min-width:0!important;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;z-index:10;animation:pageLoad .8s ease-out;box-sizing:border-box!important;overflow:hidden!important;padding:0!important;margin:0 auto!important}@keyframes pageLoad{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.school-logo{width:120px;height:120px;object-fit:contain;margin-bottom:var(--spacing-lg);border-radius:50%;box-shadow:0 8px 24px var(--shadow-medium);background:var(--surface-color);padding:var(--spacing-md);animation:logoFloat 6s ease-in-out infinite}@keyframes logoFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}.title{font-size:clamp(2rem, 6vw, 3rem);font-weight:700;margin-bottom:var(--spacing-sm);color:var(--primary-color);text-shadow:2px 2px 4px var(--shadow-light);animation:titleGlow 3s ease-in-out infinite alternate}@keyframes titleGlow{from{text-shadow:2px 2px 4px var(--shadow-light)}to{text-shadow:2px 2px 8px rgba(0,121,107,.3)}}.subtitle{font-size:clamp(1.1rem, 4vw, 1.4rem);font-weight:400;margin-bottom:var(--spacing-xl);color:var(--text-secondary);background:linear-gradient(45deg,var(--primary-color),var(--secondary-color));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.info-card{background:rgba(255,255,255,.98);border-radius:16px;padding:var(--spacing-md) var(--spacing-lg);margin-bottom:var(--spacing-xl);width:fit-content;max-width:400px;min-width:320px;box-shadow:0 4px 20px rgba(0,121,107,.12),0 1px 3px rgba(0,0,0,.08);backdrop-filter:blur(20px);border:1px solid rgba(0,121,107,.15);transition:all var(--transition-normal);box-sizing:border-box;overflow:hidden;word-wrap:break-word;margin-left:auto;margin-right:auto;position:relative}.info-card:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(0,121,107,.18),0 2px 8px rgba(0,0,0,.12);border-color:rgba(0,121,107,.25)}.day-display{font-size:1.3rem;font-weight:600;margin-bottom:var(--spacing-xs);color:var(--primary-color);text-align:center}.date-display{font-size:1rem;color:var(--text-secondary);text-align:center;margin-bottom:var(--spacing-xs)}.digital-clock{font-family:'Courier New',monospace;font-size:clamp(1.5rem, 6vw, 2rem);font-weight:700;color:var(--secondary-color);text-shadow:0 0 8px rgba(255,87,34,.3);margin:var(--spacing-sm) 0;padding:var(--spacing-xs) var(--spacing-sm);background:linear-gradient(45deg,rgba(255,87,34,.08),rgba(255,193,7,.08));border-radius:8px;border:1px solid rgba(255,87,34,.15);text-align:center;animation:clockPulse 2s ease-in-out infinite}@keyframes clockPulse{0%,100%{transform:scale(1)}50%{transform:scale(1.01)}}.current-class{font-size:clamp(1rem, 3.5vw, 1.2rem);font-weight:600;color:var(--primary-color);margin:var(--spacing-sm) 0 0 0;padding:var(--spacing-sm);text-align:center;background:rgba(0,121,107,.05);border-radius:8px;border-left:3px solid var(--primary-color)}@keyframes classGlow{from{box-shadow:0 0 5px rgba(0,121,107,.3)}to{box-shadow:0 0 15px rgba(0,121,107,.5)}}.start-button{margin-top:var(--spacing-lg);padding:var(--spacing-md) var(--spacing-xl);font-size:clamp(1.2rem, 4vw, 1.5rem);font-weight:600;border:none;background:linear-gradient(45deg,var(--primary-color),var(--primary-light));color:#fff;border-radius:var(--border-radius);cursor:pointer;transition:all var(--transition-normal);box-shadow:0 6px 20px rgba(0,121,107,.3);text-decoration:none;display:inline-flex;align-items:center;gap:var(--spacing-sm);position:relative;overflow:hidden}.start-button::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left var(--transition-slow)}.start-button:hover::before{left:100%}.start-button:hover{transform:translateY(-3px) scale(1.05);box-shadow:0 10px 30px rgba(0,121,107,.4);background:linear-gradient(45deg,var(--primary-light),var(--primary-color))}.start-button:active{transform:translateY(0) scale(.98)}.start-button .icon{font-size:1.2em;animation:iconBounce 2s ease-in-out infinite}@keyframes iconBounce{0%,100%{transform:translateX(0)}50%{transform:translateX(5px)}}.info-card .start-button{margin:var(--spacing-md) 0 0 0;width:calc(100% - 0px);justify-content:center;font-size:clamp(1rem, 3.5vw, 1.2rem);padding:var(--spacing-sm) var(--spacing-md);border-radius:12px;font-weight:500;box-shadow:0 3px 12px rgba(0,121,107,.25),0 1px 3px rgba(0,0,0,.12)}.info-card .start-button:hover{transform:translateY(-1px) scale(1.02);box-shadow:0 5px 20px rgba(0,121,107,.35),0 2px 8px rgba(0,0,0,.15)}.modal{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);z-index:2000;animation:modalFadeIn var(--transition-normal) ease-out;backdrop-filter:blur(5px)}.modal-content{background:linear-gradient(135deg,var(--surface-color),#f8f9fa);margin:8% auto;padding:var(--spacing-lg);border-radius:var(--border-radius);width:90%;max-width:450px;text-align:center;animation:modalSlideIn var(--transition-normal) ease-out;box-shadow:0 20px 60px var(--shadow-dark);border:1px solid rgba(255,255,255,.3)}.modal-content h3{margin-bottom:var(--spacing-lg);color:var(--primary-color);font-size:1.5rem;font-weight:700}.modal-content .designer-info{margin-bottom:var(--spacing-md);padding:var(--spacing-md);background:rgba(0,121,107,.05);border-radius:var(--border-radius-small);border:1px solid rgba(0,121,107,.1)}.modal-content .designer-name{font-size:1.2rem;font-weight:600;color:var(--primary-color);margin-bottom:var(--spacing-sm)}.modal-content .designer-email{color:var(--text-secondary);font-size:1rem}.modal-content a{color:var(--primary-color);text-decoration:none;transition:color var(--transition-fast)}.modal-content a:hover{color:var(--secondary-color);text-decoration:underline}.close-button{margin-top:var(--spacing-lg);padding:var(--spacing-sm) var(--spacing-lg);background:linear-gradient(45deg,var(--primary-color),var(--primary-light));color:#fff;border:none;border-radius:var(--border-radius-small);cursor:pointer;transition:all var(--transition-normal);font-weight:600}.close-button:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,121,107,.3)}.login-modal{max-width:400px!important;max-height:90vh;overflow-y:auto}.login-form{padding:var(--spacing-lg);text-align:center}.login-header{margin-bottom:var(--spacing-lg)}.login-icon{font-size:4rem;margin-bottom:var(--spacing-md);color:var(--primary-color);animation:pulse 2s ease-in-out infinite}.login-title{font-size:1.5rem;font-weight:700;color:var(--primary-color);margin-bottom:var(--spacing-sm)}.login-subtitle{color:var(--text-secondary);font-size:.9rem;margin-bottom:var(--spacing-lg)}.form-group{margin-bottom:var(--spacing-md);text-align:right}.form-label{display:block;margin-bottom:var(--spacing-sm);color:var(--text-primary);font-weight:600;font-size:.9rem}.form-input{width:100%;padding:var(--spacing-md);border:2px solid rgba(0,121,107,.2);border-radius:var(--border-radius-small);font-size:1rem;background:var(--surface-color);color:var(--text-primary);transition:all var(--transition-normal);font-family:Cairo,sans-serif;direction:ltr;text-align:left}.form-input:focus{outline:0;border-color:var(--primary-color);box-shadow:0 0 0 3px rgba(0,121,107,.1);transform:scale(1.02)}.form-input:invalid{border-color:var(--error-color)}.password-toggle{position:relative}.password-toggle-btn{position:absolute;left:var(--spacing-sm);top:50%;transform:translateY(-50%);background:0 0;border:none;color:var(--text-secondary);cursor:pointer;font-size:1.2rem;padding:var(--spacing-xs);transition:color var(--transition-fast)}.password-toggle-btn:hover{color:var(--primary-color)}.login-actions{margin-top:var(--spacing-lg);display:flex;flex-direction:column;gap:var(--spacing-sm)}.login-btn{width:100%;padding:var(--spacing-md);background:linear-gradient(45deg,var(--primary-color),var(--primary-light));color:#fff;border:none;border-radius:var(--border-radius-small);font-size:1rem;font-weight:600;cursor:pointer;transition:all var(--transition-normal);display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm);min-height:50px}.login-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,121,107,.3)}.login-btn:disabled{opacity:.6;cursor:not-allowed;transform:none}.contact-admin-btn{width:100%;padding:var(--spacing-sm);background:linear-gradient(45deg,var(--secondary-color),#ff7043);color:#fff;border:none;border-radius:var(--border-radius-small);font-size:.9rem;font-weight:500;cursor:pointer;transition:all var(--transition-normal);display:flex;align-items:center;justify-content:center;gap:var(--spacing-xs)}.contact-admin-btn:hover{transform:translateY(-2px);box-shadow:0 4px 15px rgba(255,87,34,.3)}.error-message{background:linear-gradient(45deg,rgba(244,67,54,.1),rgba(229,57,53,.1));border:1px solid var(--error-color);color:var(--error-color);padding:var(--spacing-sm);border-radius:var(--border-radius-small);margin-bottom:var(--spacing-md);font-size:.85rem;text-align:center;animation:shake .5s ease-in-out}.success-message{background:linear-gradient(45deg,rgba(76,175,80,.1),rgba(102,187,106,.1));border:1px solid var(--success-color);color:var(--success-color);padding:var(--spacing-sm);border-radius:var(--border-radius-small);margin-bottom:var(--spacing-md);font-size:.85rem;text-align:center;animation:slideIn .3s ease-out}.login-attempts{margin-top:var(--spacing-sm);font-size:.8rem;color:var(--text-secondary);text-align:center}.loading-spinner{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top:2px solid #fff;border-radius:50%;animation:spin 1s linear infinite}@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}.settings-modal{max-width:550px!important;max-height:80vh;overflow-y:auto}.license-status{margin-bottom:var(--spacing-md);padding:var(--spacing-md);border-radius:var(--border-radius);border:2px solid var(--primary-color);background:linear-gradient(135deg,rgba(0,121,107,.05),rgba(77,182,172,.05));transition:all var(--transition-normal)}.license-header{display:flex;align-items:center;gap:var(--spacing-sm)}.license-icon{font-size:2.5rem;animation:pulse 2s ease-in-out infinite}.license-text{flex:1}.license-title{font-size:1.2rem;font-weight:600;margin-bottom:var(--spacing-xs);color:var(--primary-color)}.license-subtitle{color:var(--text-secondary);font-size:.9rem}.stats-row{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--spacing-sm);margin-bottom:var(--spacing-md);padding:var(--spacing-sm);background:rgba(0,0,0,.02);border-radius:var(--border-radius-small)}.stat-item{text-align:center;padding:var(--spacing-xs)}.stat-number{font-size:1.6rem;font-weight:700;color:var(--primary-color);margin-bottom:var(--spacing-xs)}.stat-label{font-size:.8rem;color:var(--text-secondary);font-weight:500}.license-status.full-version{border-color:var(--success-color);background:linear-gradient(135deg,rgba(76,175,80,.1),rgba(139,195,74,.1))}.license-status.trial-version{border-color:var(--warning-color);background:linear-gradient(135deg,rgba(255,152,0,.1),rgba(255,193,7,.1))}.license-status.error{border-color:var(--error-color);background:linear-gradient(135deg,rgba(244,67,54,.1),rgba(211,47,47,.1))}.files-check{margin-bottom:var(--spacing-md)}.files-check h4{margin-bottom:var(--spacing-sm);color:var(--primary-color);font-size:1.1rem;display:flex;align-items:center;gap:var(--spacing-sm)}.file-list{background:rgba(255,255,255,.5);border-radius:var(--border-radius-small);padding:var(--spacing-sm);border:1px solid rgba(0,121,107,.1)}.file-item{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-sm);margin-bottom:var(--spacing-xs);border-radius:var(--border-radius-small);transition:all var(--transition-fast);background:var(--surface-color);border:1px solid rgba(0,0,0,.05);box-shadow:0 2px 4px rgba(0,0,0,.05)}.file-item:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,121,107,.1)}.file-info{display:flex;align-items:center;gap:var(--spacing-sm);flex:1}.file-icon{font-size:1.3rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;background:rgba(0,121,107,.1);border-radius:50%}.file-details{flex:1}.file-name{font-weight:600;color:var(--text-primary);margin-bottom:2px;font-size:.9rem}.file-description{font-size:.75rem;color:var(--text-secondary);line-height:1.3}.file-status{padding:var(--spacing-xs) var(--spacing-sm);border-radius:20px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;min-width:70px;text-align:center}.file-status.found{background:linear-gradient(45deg,var(--success-color),#66bb6a);color:#fff;box-shadow:0 2px 4px rgba(76,175,80,.3)}.file-status.missing{background:linear-gradient(45deg,var(--error-color),#ef5350);color:#fff;box-shadow:0 2px 4px rgba(244,67,54,.3)}.file-status.checking{background:linear-gradient(45deg,var(--warning-color),#ffb74d);color:#fff;animation:pulse 1.5s ease-in-out infinite;box-shadow:0 2px 4px rgba(255,152,0,.3)}.upload-section{margin-bottom:var(--spacing-md)}.upload-section h4{margin-bottom:var(--spacing-sm);color:var(--primary-color);font-size:1.1rem;display:flex;align-items:center;gap:var(--spacing-sm)}.upload-area{border:2px dashed var(--primary-color);border-radius:var(--border-radius);padding:var(--spacing-lg);text-align:center;cursor:pointer;transition:all var(--transition-normal);background:rgba(0,121,107,.02)}.upload-area:hover{border-color:var(--primary-light);background:rgba(0,121,107,.05);transform:translateY(-2px)}.upload-area.dragover{border-color:var(--success-color);background:rgba(76,175,80,.1)}.upload-icon{font-size:2.5rem;margin-bottom:var(--spacing-sm);color:var(--primary-color)}.upload-text{color:var(--text-secondary);font-weight:500;font-size:.9rem}.upload-list{margin-top:var(--spacing-md)}.upload-item{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-sm);background:var(--surface-color);border-radius:var(--border-radius-small);margin-bottom:var(--spacing-xs);border:1px solid rgba(0,0,0,.05)}.upload-item-info{display:flex;align-items:center;gap:var(--spacing-sm)}.upload-item-name{font-weight:500;color:var(--text-primary)}.upload-item-size{font-size:.8rem;color:var(--text-secondary)}.final-confirmation{text-align:center;padding:var(--spacing-md);background:linear-gradient(135deg,rgba(76,175,80,.1),rgba(139,195,74,.1));border-radius:var(--border-radius);border:2px solid var(--success-color);margin-bottom:var(--spacing-md)}.confirmation-icon{font-size:3rem;margin-bottom:var(--spacing-sm);animation:checkmark .5s ease-out}.confirmation-text h4{color:var(--success-color);margin-bottom:var(--spacing-sm);font-size:1.1rem}.confirmation-text p{color:var(--text-secondary);font-size:.9rem}.settings-actions{display:flex;gap:var(--spacing-sm);justify-content:center;flex-wrap:wrap}.action-button{padding:var(--spacing-sm) var(--spacing-md);border:none;border-radius:var(--border-radius-small);cursor:pointer;font-weight:600;transition:all var(--transition-normal);display:flex;align-items:center;gap:var(--spacing-xs);min-width:120px;justify-content:center;font-size:.85rem}.refresh-btn{background:linear-gradient(45deg,var(--primary-color),var(--primary-light));color:#fff;box-shadow:0 2px 8px rgba(0,121,107,.3)}.refresh-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,121,107,.4)}.save-btn{background:linear-gradient(45deg,var(--success-color),#66bb6a);color:#fff;box-shadow:0 2px 8px rgba(76,175,80,.3)}.save-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(76,175,80,.4)}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.7}}@keyframes checkmark{0%{transform:scale(0)}50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes slideIn{from{opacity:0;transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}.file-item{animation:slideIn .3s ease-out}@media (max-width:768px){.settings-modal{max-width:95%!important;margin:2% auto!important;max-height:90vh}.license-header{flex-direction:column;text-align:center;gap:var(--spacing-xs)}.stats-row{grid-template-columns:1fr;gap:var(--spacing-xs)}.settings-actions{flex-direction:column;gap:var(--spacing-xs)}.action-button{width:100%;min-width:auto}.file-info{flex-direction:column;align-items:flex-start;gap:var(--spacing-xs)}.file-item{padding:var(--spacing-xs)}}@keyframes modalFadeIn{from{opacity:0}to{opacity:1}}@keyframes modalSlideIn{from{opacity:0;transform:translateY(-30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.loading-indicator{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:3000}.spinner{width:50px;height:50px;border:4px solid rgba(0,121,107,.3);border-top:4px solid var(--primary-color);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@media (max-width:768px){body{padding:var(--spacing-sm);width:100%;max-width:100vw}.main-container{max-width:95%;width:100%;padding:var(--spacing-sm)}.school-logo{width:100px;height:100px}.info-card{padding:var(--spacing-md);margin:var(--spacing-sm) auto;width:fit-content;max-width:350px;min-width:280px}.info-card .start-button{margin-top:var(--spacing-sm);padding:var(--spacing-sm);font-size:clamp(1rem, 4vw, 1.2rem)}.control-btn{width:45px;height:45px;font-size:18px}.control-buttons{top:var(--spacing-sm);right:var(--spacing-sm);gap:var(--spacing-xs)}.designer-btn{width:55px;height:55px;font-size:22px;bottom:var(--spacing-sm);left:var(--spacing-sm)}.exit-btn{width:45px;height:45px;font-size:18px}.modal-content{width:95%!important;max-width:95%!important;margin:5% auto!important;padding:var(--spacing-md)!important}.settings-modal{max-width:95%!important;margin:2% auto!important;max-height:90vh;width:95%!important}}@media (max-width:480px){body{padding:var(--spacing-xs);width:100%;max-width:100vw}.main-container{max-width:98%;width:100%;padding:var(--spacing-xs)}.school-logo{width:80px;height:80px}.info-card{padding:var(--spacing-sm);margin:var(--spacing-xs) auto;width:fit-content;max-width:300px;min-width:260px}.info-card .start-button{margin-top:var(--spacing-xs);padding:var(--spacing-xs) var(--spacing-sm);font-size:clamp(.9rem, 4.5vw, 1.1rem)}.modal-content{width:98%!important;max-width:98%!important;margin:2% auto!important;padding:var(--spacing-sm)!important}.settings-modal{max-width:98%!important;margin:1% auto!important;width:98%!important}.control-buttons{top:var(--spacing-xs);right:var(--spacing-xs)}.designer-btn{bottom:var(--spacing-xs);left:var(--spacing-xs);width:50px;height:50px;font-size:20px}}@media (max-width:360px){body{padding:2px!important;width:100%!important;max-width:100vw!important;overflow-x:hidden!important}.main-container{max-width:calc(100vw - 4px)!important;width:calc(100vw - 4px)!important;padding:2px!important;margin:0!important}.info-card{padding:8px!important;margin:4px auto!important;width:fit-content!important;max-width:calc(100vw - 20px)!important;min-width:240px!important}.modal-content{width:calc(100vw - 4px)!important;max-width:calc(100vw - 4px)!important;margin:2px!important;padding:6px!important;left:2px!important;right:2px!important}.control-buttons{top:2px!important;right:2px!important;gap:2px!important}.designer-btn{bottom:2px!important;left:2px!important;width:40px!important;height:40px!important;font-size:16px!important}.control-btn{width:35px!important;height:35px!important;font-size:14px!important}}@media (min-width:1200px){.main-container{max-width:600px}}.control-btn,.designer-btn,.exit-btn,.info-card,.start-button{will-change:transform}.close-button:focus,.control-btn:focus,.designer-btn:focus,.exit-btn:focus,.start-button:focus{outline:3px solid rgba(0,121,107,.5);outline-offset:2px}html{overflow-x:hidden!important;width:100%!important;max-width:100vw!important}body{overflow-x:hidden!important;width:100%!important;max-width:100vw!important;position:relative!important}*{max-width:100%!important;overflow-x:hidden!important}.info-card,.main-container,.modal-content,.settings-modal{max-width:95vw!important;overflow-x:hidden!important}@media (max-width:768px){.control-buttons{top:10px;right:10px;gap:8px}.control-btn{width:45px;height:45px;font-size:18px}.main-container{max-width:95vw!important;padding:0 10px!important}.school-logo{width:100px;height:100px}.title{font-size:clamp(1.8rem, 5vw, 2.5rem);margin-bottom:1rem}.subtitle{font-size:clamp(1rem, 3.5vw, 1.3rem);margin-bottom:1.5rem}.info-card{padding:20px 15px;margin:15px 5px}.start-button{padding:12px 20px;font-size:clamp(1.1rem, 3.5vw, 1.3rem);margin-top:20px}.designer-btn,.exit-btn{width:50px;height:50px;bottom:15px}.designer-btn{left:15px}.exit-btn{right:15px}.modal-content{margin:5% auto;width:95%;max-width:450px;padding:20px}.login-modal{max-width:400px}}@media (max-width:480px){body{padding:10px}.control-buttons{top:8px;right:8px;gap:6px}.control-btn{width:40px;height:40px;font-size:16px}.main-container{max-width:100%!important;padding:0 5px!important}.school-logo{width:80px;height:80px;margin-bottom:15px}.title{font-size:clamp(1.5rem, 4.5vw, 2rem);margin-bottom:8px}.subtitle{font-size:clamp(.9rem, 3vw, 1.1rem);margin-bottom:15px}.info-card{padding:15px 12px;margin:10px 2px;border-radius:12px}.date-display,.day-display{font-size:clamp(.9rem, 2.8vw, 1.1rem);margin-bottom:8px}.digital-clock{font-size:clamp(1.3rem, 4vw, 1.8rem);margin-bottom:8px}.current-class{font-size:clamp(.85rem, 2.5vw, 1rem);margin-bottom:15px}.start-button{padding:10px 16px;font-size:clamp(1rem, 3vw, 1.2rem);margin-top:15px;gap:8px}.start-button .icon{font-size:1.1em}.designer-btn,.exit-btn{width:45px;height:45px;bottom:12px;font-size:20px}.designer-btn{left:12px}.exit-btn{right:12px}.modal-content{margin:2% auto;width:98%;max-width:380px;padding:15px;border-radius:12px}.login-modal{max-width:350px}.login-header .login-icon{font-size:2.5rem}.login-title{font-size:1.3rem}.login-subtitle{font-size:.9rem}.form-input{padding:12px;font-size:16px}.login-btn{padding:12px;font-size:1rem}}@media (max-width:360px){body{padding:8px}.main-container{padding:0!important}.school-logo{width:70px;height:70px;margin-bottom:12px}.info-card{padding:12px 10px;margin:8px 0}.start-button{padding:8px 12px;font-size:clamp(.9rem, 2.8vw, 1.1rem);margin-top:12px}.modal-content{margin:1% auto;width:99%;padding:12px}.login-modal{max-width:320px}}@media (max-height:500px) and (orientation:landscape){.main-container{justify-content:flex-start;padding-top:20px}.school-logo{width:60px;height:60px;margin-bottom:10px}.title{font-size:clamp(1.2rem, 3.5vw, 1.8rem);margin-bottom:5px}.subtitle{font-size:clamp(.8rem, 2.5vw, 1rem);margin-bottom:10px}.info-card{padding:10px;margin:8px 0}.current-class,.date-display,.day-display{margin-bottom:5px}.digital-clock{margin-bottom:5px}.start-button{margin-top:10px;padding:8px 15px}.modal-content{margin:2% auto;max-height:90vh;overflow-y:auto}}@media (hover:none) and (pointer:coarse){.control-btn,.designer-btn,.exit-btn,.login-btn,.start-button{min-height:44px;min-width:44px}.control-btn:hover,.designer-btn:hover,.exit-btn:hover{transform:none}.control-btn:active,.designer-btn:active,.exit-btn:active,.start-button:active{transform:scale(.95);transition:transform .1s ease}}</style></head><body><div class="loading-indicator" id="loadingIndicator" style="display:none"><div class="spinner"></div></div><div class="control-buttons"><button class="control-btn" id="fullscreenBtn" title="ملء الشاشة" aria-label="ملء الشاشة">⛶</button></div><div style="position:fixed;top:var(--spacing-md);left:var(--spacing-md);z-index:1000"><button class="control-btn" id="settingsBtn" title="الإعدادات" aria-label="الإعدادات">⚙️</button></div><button class="designer-btn" id="openDesigner" title="عن البرنامج" aria-label="عن البرنامج">ℹ️</button> <button class="exit-btn" id="exitBtn" title="إنهاء البرنامج" aria-label="إنهاء البرنامج">🚪</button><div class="main-container container-responsive"><img alt="شعار المدرسة" class="school-logo" src="assets/media/images/school-logo.png" loading="lazy"><h1 class="title title-responsive" id="schoolName">برنامج الأنشطة الصفية</h1><p class="subtitle text-responsive">التعلم التفاعلي الممتع</p><div class="info-card card-responsive"><div class="day-display text-responsive" id="currentDay">📅 جاري التحميل...</div><div class="date-display text-responsive" id="currentDate">جاري تحميل التاريخ...</div><div class="digital-clock heading-responsive" id="digitalClock">00:00:00</div><div class="current-class text-responsive" id="currentClass">مرحباً بكم</div><a class="start-button btn-responsive" id="startBtn" href="main.html" aria-label="بدء البرنامج"><span class="icon">▶️</span> <span>ابدأ الرحلة</span></a></div></div><div id="loginModal" class="modal modal-responsive" role="dialog" aria-labelledby="loginTitle" aria-hidden="true"><div class="modal-content modal-content-responsive login-modal"><div class="login-form"><div class="login-header"><div class="login-icon">🔐</div><h3 class="login-title heading-responsive" id="loginTitle">تسجيل دخول مدير النظام</h3><p class="login-subtitle text-responsive">يرجى إدخال بيانات الدخول للوصول إلى إعدادات النظام</p></div><div id="loginMessages"></div><form id="loginForm"><div class="form-group"><label for="username" class="form-label">اسم المستخدم</label> <input type="text" id="username" name="username" class="form-input" placeholder="أدخل اسم المستخدم" required autocomplete="username" maxlength="50"></div><div class="form-group"><label for="password" class="form-label">كلمة المرور</label><div class="password-toggle"><input type="password" id="password" name="password" class="form-input" placeholder="أدخل كلمة المرور" required autocomplete="current-password" maxlength="100"> <button type="button" class="password-toggle-btn btn-responsive" id="togglePassword" aria-label="إظهار/إخفاء كلمة المرور">👁️</button></div></div><div class="login-actions stack-mobile"><button type="submit" class="login-btn btn-responsive" id="loginSubmit"><span id="loginBtnText">تسجيل الدخول</span><div id="loginSpinner" class="loading-spinner" style="display:none"></div></button> <button type="button" class="contact-admin-btn btn-responsive" id="contactAdmin">📧 لا يمكنني الدخول - تواصل مع المصمم</button></div><div class="login-attempts" id="loginAttempts"></div></form><button class="close-button" id="closeLogin" style="margin-top:var(--spacing-md)">إلغاء</button></div></div></div><div id="designerModal" class="modal" role="dialog" aria-labelledby="designerTitle" aria-hidden="true"><div class="modal-content"><h3 id="designerTitle">ℹ️ عن البرنامج</h3><div class="designer-info"><div class="designer-name" style="font-weight:700;font-size:1.1em;margin-bottom:8px">منصة تعليمية تفاعلية متكاملة</div></div><p style="color:var(--text-secondary);margin:var(--spacing-md) 0;font-size:1.05em">منصة تعليمية تفاعلية متكاملة، مصممة لتعزيز التفاعل والمشاركة بين الطلاب والمعلمين داخل الصف، من خلال مجموعة متنوعة من الألعاب والأنشطة التعليمية الحديثة.</p><a href="https://a7mdooh.github.io/Class-activities/about.html" target="_blank" style="color:var(--primary-color);text-decoration:underline;font-weight:500;display:block;margin-bottom:16px">لمزيد من المعلومات</a> <button class="close-button" id="closeDesigner" aria-label="إغلاق النافذة">إغلاق</button></div></div><div id="settingsModal" class="modal" role="dialog" aria-labelledby="settingsTitle" aria-hidden="true"><div class="modal-content settings-modal"><h3 id="settingsTitle">⚙️ إعدادات النظام</h3><div class="license-status" id="licenseStatus"><div class="license-header"><div class="license-icon" id="licenseIcon">🔍</div><div class="license-text"><div class="license-title" id="licenseTitle">جاري فحص النظام...</div><div class="license-subtitle" id="licenseSubtitle">يرجى الانتظار</div></div></div></div><div class="stats-row" id="statsRow" style="display:none"><div class="stat-item"><div class="stat-number" id="totalFiles">0</div><div class="stat-label">إجمالي الملفات</div></div><div class="stat-item"><div class="stat-number" id="foundFiles">0</div><div class="stat-label">ملفات موجودة</div></div><div class="stat-item"><div class="stat-number" id="missingFiles">0</div><div class="stat-label">ملفات مفقودة</div></div></div><div class="files-check"><h4>� الملفات الأساسية المطلوبة</h4><div class="file-list" id="filesList"></div></div><div class="upload-section" id="uploadSection" style="display:none"><h4>📤 رفع الملفات المفقودة</h4><div class="upload-area" id="uploadArea"><div class="upload-icon">📁</div><div class="upload-text">اسحب الملفات هنا أو انقر للاختيار</div><input type="file" id="fileInput" multiple="multiple" accept=".json,.png,.jpg,.jpeg" style="display:none"></div><div class="upload-list" id="uploadList"></div></div><div class="final-confirmation" id="finalConfirmation" style="display:none"><div class="confirmation-icon">✅</div><div class="confirmation-text"><h4>تم إعداد النظام بنجاح!</h4><p>جميع الملفات الأساسية متوفرة والنظام جاهز للعمل</p></div></div><div class="settings-actions"><button class="action-button refresh-btn" id="refreshFiles">🔄 إعادة فحص</button> <button class="action-button save-btn" id="saveSettings" style="display:none">� حفظ الإعدادات</button> <button class="close-button" id="closeSettings">إغلاق</button></div></div></div><audio id="clickSound" src="assets/media/sounds/Click.mp3" preload="auto" aria-hidden="true"></audio><audio id="startSound" src="assets/media/sounds/startapp.mp3" preload="auto" aria-hidden="true"></audio><script>console.log("🚀 بدء تحميل البرنامج...");const elements={currentDay:document.getElementById("currentDay"),currentDate:document.getElementById("currentDate"),digitalClock:document.getElementById("digitalClock"),currentClass:document.getElementById("currentClass"),schoolName:document.getElementById("schoolName"),designerModal:document.getElementById("designerModal"),settingsModal:document.getElementById("settingsModal"),loginModal:document.getElementById("loginModal"),loadingIndicator:document.getElementById("loadingIndicator"),clickSound:document.getElementById("clickSound"),startSound:document.getElementById("startSound")};let currentUser=null,loginAttempts=0,isLoggedIn=!1;const arabicDays=["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],arabicMonths=["يناير","فبراير","مارس","إبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];function updateDateTime(){try{const e=new Date,t=arabicDays[e.getDay()];elements.currentDay.textContent=`📅 ${t}`;const n=e.getDate(),o=arabicMonths[e.getMonth()],s=e.getFullYear();elements.currentDate.textContent=`${n} ${o} ${s}`;let l=e.getHours();const i=String(e.getMinutes()).padStart(2,"0"),a=String(e.getSeconds()).padStart(2,"0"),d=l>=12?"م":"ص";l%=12,l=l||12,l=String(l).padStart(2,"0"),elements.digitalClock.textContent=`${l}:${i}:${a} ${d}`,e.getSeconds()%2==0?elements.digitalClock.style.opacity="1":elements.digitalClock.style.opacity="0.7"}catch(e){console.error("❌ خطأ في تحديث التاريخ والوقت:",e)}}async function loadSchoolData(){try{console.log("📚 جاري تحميل بيانات المدرسة..."),elements.loadingIndicator.style.display="block";const e=await fetch("config/school.json");if(!e.ok)throw new Error("فشل في تحميل بيانات المدرسة");const t=await e.json();console.log("✅ تم تحميل بيانات المدرسة:",t),t.schoolName&&(elements.schoolName.textContent=t.schoolName,document.title=`${t.programTitle||"برنامج الأنشطة الصفية"} - ${t.schoolName}`),t.themeColor&&document.documentElement.style.setProperty("--primary-color",t.themeColor)}catch(e){console.error("❌ خطأ في تحميل بيانات المدرسة:",e),elements.schoolName.textContent="برنامج الأنشطة الصفية"}finally{elements.loadingIndicator.style.display="none"}}async function loadSchedule(){try{console.log("📅 جاري تحميل الجدول الدراسي...");const t=await fetch("data/schedule.json");if(!t.ok)throw new Error("فشل في تحميل الجدول");const n=await t.json();function e(){const e=(new Date).toTimeString().substr(0,5),t=n.find(t=>e>=t.start&&e<=t.end);if(t)elements.currentClass.innerHTML=`\n              <div style="display: flex; align-items: center; gap: 8px; justify-content: center;">\n                <span>📚</span>\n                <span>الآن: ${t.label}</span>\n              </div>\n            `,elements.currentClass.style.background="linear-gradient(45deg, rgba(76, 175, 80, 0.1), rgba(139, 195, 74, 0.1))";else{const t=n.find(t=>e<t.start);elements.currentClass.innerHTML=t?`\n                <div style="display: flex; align-items: center; gap: 8px; justify-content: center;">\n                  <span>⏰</span>\n                  <span>التالي: ${t.label} في ${t.start}</span>\n                </div>\n              `:'\n                <div style="display: flex; align-items: center; gap: 8px; justify-content: center;">\n                  <span>🏠</span>\n                  <span>انتهت الحصص اليوم</span>\n                </div>\n              ',elements.currentClass.style.background="linear-gradient(45deg, rgba(0, 121, 107, 0.1), rgba(77, 182, 172, 0.1))"}}console.log("✅ تم تحميل الجدول الدراسي:",n),e(),setInterval(e,6e4)}catch(o){console.error("❌ فشل في تحميل الجدول:",o),elements.currentClass.innerHTML='\n          <div style="display: flex; align-items: center; gap: 8px; justify-content: center;">\n            <span>👋</span>\n            <span>مرحباً بكم في البرنامج</span>\n          </div>\n        '}}function playSound(e){try{if(e&&e.readyState>=2){e.currentTime=0;const t=e.play();void 0!==t&&t.catch(()=>{console.log("🔇 تعذر تشغيل الصوت (يتطلب تفاعل المستخدم)")})}}catch(e){console.log("🔇 خطأ في تشغيل الصوت:",e)}}function addClickEffect(e){e.style.transform="scale(0.95)",setTimeout(()=>{e.style.transform=""},150)}async function toggleFullScreen(){try{document.fullscreenElement?(await document.exitFullscreen(),console.log("🖥️ تم إلغاء ملء الشاشة")):(await document.documentElement.requestFullscreen(),console.log("🖥️ تم تفعيل ملء الشاشة"))}catch(e){console.warn("⚠️ فشل في تغيير وضع ملء الشاشة:",e)}}function showModal(){elements.designerModal.style.display="block",elements.designerModal.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",console.log("📧 تم فتح نافذة معلومات المصمم")}function hideModal(){elements.designerModal.style.display="none",elements.designerModal.setAttribute("aria-hidden","true"),document.body.style.overflow="",console.log("❌ تم إغلاق نافذة معلومات المصمم")}function showSettingsModal(){isLoggedIn?(elements.settingsModal.style.display="block",elements.settingsModal.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",console.log("⚙️ تم فتح نافذة الإعدادات"),checkSystemFiles()):showLoginModal()}function hideSettingsModal(){elements.settingsModal.style.display="none",elements.settingsModal.setAttribute("aria-hidden","true"),document.body.style.overflow="",console.log("❌ تم إغلاق نافذة الإعدادات")}function showLoginModal(){elements.loginModal.style.display="block",elements.loginModal.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",document.getElementById("username").focus(),console.log("🔐 تم فتح نافذة تسجيل الدخول"),updateLoginAttempts()}function hideLoginModal(){elements.loginModal.style.display="none",elements.loginModal.setAttribute("aria-hidden","true"),document.body.style.overflow="",clearLoginForm(),console.log("❌ تم إغلاق نافذة تسجيل الدخول")}function clearLoginForm(){document.getElementById("loginForm").reset(),document.getElementById("loginMessages").innerHTML="",document.getElementById("password").type="password",document.getElementById("togglePassword").textContent="👁️"}function showLoginMessage(e,t="error"){const n=document.getElementById("loginMessages"),o="success"===t?"success-message":"error-message";n.innerHTML=`\n        <div class="${o}">\n          ${e}\n        </div>\n      `,setTimeout(()=>{n.innerHTML=""},5e3)}function updateLoginAttempts(){const e=document.getElementById("loginAttempts");if(loginAttempts>0){const t=3-loginAttempts;e.textContent=`محاولات متبقية: ${t}`,e.style.color=t<=1?"var(--error-color)":"var(--text-secondary)"}else e.textContent=""}async function loadUserData(){try{console.log("👥 جاري تحميل بيانات المستخدمين...");const e=await fetch("config/users.json");if(!e.ok)throw new Error("فشل في تحميل بيانات المستخدمين");const t=await e.json();return console.log("✅ تم تحميل بيانات المستخدمين بنجاح"),t}catch(e){return console.error("❌ خطأ في تحميل بيانات المستخدمين:",e),null}}async function authenticateUser(e,t){const n=await loadUserData();if(!n||!n.systemAdmins)return{success:!1,message:"خطأ في النظام - تعذر تحميل بيانات المستخدمين"};const o=n.systemAdmins.find(t=>t.username===e&&t.isActive);return o?o.password!==t?{success:!1,message:"كلمة المرور غير صحيحة"}:(o.lastLogin=(new Date).toISOString(),o.loginAttempts=0,{success:!0,user:o,message:`مرحباً ${o.fullName}`}):{success:!1,message:"اسم المستخدم غير موجود أو الحساب غير مفعل"}}async function handleLogin(e){e.preventDefault();const t=document.getElementById("username").value.trim(),n=document.getElementById("password").value,o=document.getElementById("loginSubmit"),s=document.getElementById("loginBtnText"),l=document.getElementById("loginSpinner");if(t&&n){o.disabled=!0,s.style.display="none",l.style.display="block";try{await new Promise(e=>setTimeout(e,1e3));const e=await authenticateUser(t,n);e.success?(currentUser=e.user,isLoggedIn=!0,loginAttempts=0,showLoginMessage(e.message,"success"),setTimeout(()=>{hideLoginModal(),showSettingsModal()},1500),console.log("✅ تم تسجيل الدخول بنجاح:",currentUser.fullName)):(loginAttempts++,showLoginMessage(e.message),updateLoginAttempts(),loginAttempts>=3&&(showLoginMessage("تم تجاوز عدد المحاولات المسموحة. يرجى المحاولة بعد 15 دقيقة."),o.disabled=!0,setTimeout(()=>{loginAttempts=0,o.disabled=!1,updateLoginAttempts()},9e5)),console.log("❌ فشل في تسجيل الدخول"))}catch(e){console.error("❌ خطأ في تسجيل الدخول:",e),showLoginMessage("حدث خطأ في النظام. يرجى المحاولة مرة أخرى.")}finally{o.disabled=!1,s.style.display="block",l.style.display="none"}}else showLoginMessage("يرجى إدخال اسم المستخدم وكلمة المرور")}function togglePasswordVisibility(){const e=document.getElementById("password"),t=document.getElementById("togglePassword");"password"===e.type?(e.type="text",t.textContent="🙈"):(e.type="password",t.textContent="👁️")}function contactDesigner(){hideLoginModal(),showModal()}const requiredFiles=[{name:"بيانات المدرسة",path:"config/school.json",type:"config",critical:!0,icon:"🏫",description:"معلومات المدرسة والإعدادات الأساسية"},{name:"الجدول الدراسي",path:"data/schedule.json",type:"data",critical:!0,icon:"📅",description:"أوقات الحصص والجدول اليومي"},{name:"بيانات الطلاب",path:"data/studentData.json",type:"data",critical:!0,icon:"👥",description:"قائمة أسماء الطلاب حسب الفصول"},{name:"شعار المدرسة",path:"assets/media/images/school-logo.png",type:"asset",critical:!0,icon:"🖼️",description:"الشعار الرسمي للمدرسة"}];async function checkSystemFiles(){const e=document.getElementById("licenseStatus"),t=document.getElementById("licenseIcon"),n=document.getElementById("licenseTitle"),o=document.getElementById("licenseSubtitle"),s=document.getElementById("filesList"),l=document.getElementById("uploadSection"),i=document.getElementById("finalConfirmation"),a=document.getElementById("statsRow"),d=document.getElementById("saveSettings");e.className="license-status",t.textContent="🔍",n.textContent="جاري فحص النظام...",o.textContent="يرجى الانتظار",s.innerHTML="",l.style.display="none",i.style.display="none",a.style.display="none",d.style.display="none";let c=0,r=0;const g=[];for(const e of requiredFiles){const t=document.createElement("div");t.className="file-item",t.innerHTML=`\n          <div class="file-info">\n            <div class="file-icon">${e.icon}</div>\n            <div class="file-details">\n              <div class="file-name">${e.name}</div>\n              <div class="file-description">${e.description}</div>\n            </div>\n          </div>\n          <div class="file-status checking" id="status-${e.path.replace(/[/.]/g,"-")}">\n            جاري الفحص...\n          </div>\n        `,s.appendChild(t)}for(const e of requiredFiles){const t=document.getElementById(`status-${e.path.replace(/[/.]/g,"-")}`);try{if(!(await fetch(e.path,{method:"HEAD"})).ok)throw new Error("File not found");t.textContent="موجود ✓",t.className="file-status found",c++,g.push({...e,status:"found"})}catch(n){t.textContent="مفقود ✗",t.className="file-status missing",g.push({...e,status:"missing"}),e.critical&&r++}await new Promise(e=>setTimeout(e,300))}a.style.display="grid",document.getElementById("totalFiles").textContent=requiredFiles.length,document.getElementById("foundFiles").textContent=c,document.getElementById("missingFiles").textContent=requiredFiles.length-c;const m=c/requiredFiles.length*100;setTimeout(()=>{c===requiredFiles.length?(e.className="license-status full-version",t.textContent="✅",n.textContent="تم تفعيل البرنامج بنجاح",o.textContent="النسخة الكاملة - جميع الملفات الأساسية متوفرة",i.style.display="block",d.style.display="inline-flex"):(e.className="license-status trial-version",t.textContent="⚠️",n.textContent="إعداد مطلوب",o.textContent=`${r} ملف أساسي مفقود - يرجى رفع الملفات المطلوبة`,l.style.display="block",setupFileUpload()),console.log("📊 نتائج فحص النظام:",{totalFiles:requiredFiles.length,foundFiles:c,missingFiles:requiredFiles.length-c,criticalMissing:r,completionPercentage:m})},500)}function setupFileUpload(){const e=document.getElementById("uploadArea"),t=document.getElementById("fileInput"),n=document.getElementById("uploadList");function o(e){n.innerHTML="",Array.from(e).forEach(e=>{const t=document.createElement("div");t.className="upload-item",t.innerHTML=`\n            <div class="upload-item-info">\n              <span class="upload-item-name">${e.name}</span>\n              <span class="upload-item-size">(${(e.size/1024).toFixed(1)} KB)</span>\n            </div>\n            <button class="action-button" onclick="this.parentElement.remove()" style="min-width: auto; padding: 4px 8px;">✗</button>\n          `,n.appendChild(t)}),e.length>0&&(document.getElementById("saveSettings").style.display="inline-flex")}e.addEventListener("click",()=>{t.click()}),e.addEventListener("dragover",t=>{t.preventDefault(),e.classList.add("dragover")}),e.addEventListener("dragleave",()=>{e.classList.remove("dragover")}),e.addEventListener("drop",t=>{t.preventDefault(),e.classList.remove("dragover"),o(t.dataTransfer.files)}),t.addEventListener("change",e=>{o(e.target.files)})}function saveSystemSettings(){const e=document.getElementById("uploadList").querySelectorAll(".upload-item");if(0===e.length)return localStorage.setItem("systemConfigured","true"),localStorage.setItem("configurationDate",(new Date).toISOString()),alert("✅ تم حفظ إعدادات النظام بنجاح!\n\nسيتم تطبيق الإعدادات عند إعادة تشغيل البرنامج."),void hideSettingsModal();const t=document.getElementById("saveSettings"),n=t.innerHTML;t.innerHTML="⏳ جاري الحفظ...",t.disabled=!0,setTimeout(()=>{localStorage.setItem("systemConfigured","true"),localStorage.setItem("configurationDate",(new Date).toISOString()),localStorage.setItem("uploadedFiles",JSON.stringify(Array.from(e).map(e=>e.querySelector(".upload-item-name").textContent))),t.innerHTML=n,t.disabled=!1,alert("🎉 تم حفظ الملفات والإعدادات بنجاح!\n\nملاحظة: في النسخة النهائية، سيتم رفع الملفات إلى الخادم وتكوين النظام تلقائياً."),setTimeout(()=>{checkSystemFiles()},1e3)},2e3)}function checkPreviousConfiguration(){const e=localStorage.getItem("systemConfigured"),t=localStorage.getItem("configurationDate");return e&&t&&console.log("✅ تم العثور على إعدادات سابقة للنظام:",{configured:e,date:new Date(t).toLocaleString("ar-SA")}),!!e}async function initializeApp(){try{console.log("⚡ جاري تهيئة التطبيق..."),elements.loadingIndicator.style.display="block",await Promise.all([loadSchoolData(),loadSchedule()]),updateDateTime(),setInterval(updateDateTime,1e3),elements.loadingIndicator.style.display="none",console.log("🎉 تم تحميل التطبيق بنجاح!")}catch(e){console.error("❌ خطأ في تهيئة التطبيق:",e),elements.loadingIndicator.style.display="none"}}function preventHorizontalScroll(){document.documentElement.style.overflowX="hidden",document.body.style.overflowX="hidden",document.documentElement.style.maxWidth="100vw",document.body.style.maxWidth="100vw";document.querySelectorAll("*").forEach(e=>{e.offsetWidth>window.innerWidth&&(e.style.maxWidth="100%",e.style.width="100%",e.style.overflowX="hidden")})}document.addEventListener("DOMContentLoaded",()=>{console.log("📄 تم تحميل DOM - بدء تهيئة الأحداث..."),initializeApp();const e=document.getElementById("fullscreenBtn");e&&e.addEventListener("click",e=>{console.log("🖥️ تم النقر على زر ملء الشاشة"),addClickEffect(e.target),playSound(elements.clickSound),toggleFullScreen()});const t=document.getElementById("settingsBtn");t&&t.addEventListener("click",e=>{console.log("⚙️ تم النقر على زر الإعدادات"),addClickEffect(e.target),playSound(elements.clickSound),showSettingsModal()});const n=document.getElementById("openDesigner");n&&n.addEventListener("click",e=>{console.log("👨‍💻 تم النقر على زر المصمم"),addClickEffect(e.target),playSound(elements.clickSound),showModal()});const o=document.getElementById("closeDesigner");o&&o.addEventListener("click",e=>{console.log("❌ تم النقر على زر الإغلاق"),addClickEffect(e.target),playSound(elements.clickSound),hideModal()});const s=document.getElementById("closeSettings");s&&s.addEventListener("click",e=>{console.log("❌ تم النقر على زر إغلاق الإعدادات"),addClickEffect(e.target),playSound(elements.clickSound),hideSettingsModal()});const l=document.getElementById("loginForm");l&&l.addEventListener("submit",handleLogin);const i=document.getElementById("togglePassword");i&&i.addEventListener("click",togglePasswordVisibility);const a=document.getElementById("contactAdmin");a&&a.addEventListener("click",e=>{console.log("📧 تم النقر على زر التواصل مع المصمم"),addClickEffect(e.target),playSound(elements.clickSound),contactDesigner()});const d=document.getElementById("closeLogin");d&&d.addEventListener("click",e=>{console.log("❌ تم النقر على زر إلغاء تسجيل الدخول"),addClickEffect(e.target),playSound(elements.clickSound),hideLoginModal()});const c=document.getElementById("refreshFiles");c&&c.addEventListener("click",e=>{console.log("🔄 تم النقر على زر إعادة الفحص"),addClickEffect(e.target),playSound(elements.clickSound),checkSystemFiles()});const r=document.getElementById("downloadMissing");r&&r.addEventListener("click",e=>{console.log("📥 تم النقر على زر تحميل الملفات"),addClickEffect(e.target),playSound(elements.clickSound),downloadMissingFiles()});const g=document.getElementById("saveSettings");g&&g.addEventListener("click",e=>{console.log("💾 تم النقر على زر حفظ الإعدادات"),addClickEffect(e.target),playSound(elements.clickSound),saveSystemSettings()});const m=document.getElementById("exitBtn");m&&m.addEventListener("click",e=>{console.log("🚪 تم النقر على زر الخروج"),addClickEffect(e.target),playSound(elements.clickSound),confirm("هل تريد إغلاق البرنامج؟")&&(window.history.length>1?window.history.back():window.close())});const u=document.getElementById("startBtn");u&&u.addEventListener("click",e=>{console.log("▶️ تم النقر على زر البدء"),addClickEffect(u);const t=elements.startSound;if(t)try{t.currentTime=0;const e=t.play();void 0!==e&&e.then(()=>{console.log("🔊 بدء تشغيل صوت البداية"),document.body.style.opacity="0",document.body.style.transform="scale(0.95)",t.addEventListener("ended",()=>{console.log("✅ انتهى صوت البداية - بدء الانتقال"),window.location.href=u.href},{once:!0}),setTimeout(()=>{console.log("⚠️ انتهت مهلة انتظار الصوت - بدء الانتقال"),window.location.href=u.href},4e3)}).catch(()=>{console.log("🔇 فشل تشغيل الصوت - الانتقال المباشر"),setTimeout(()=>{window.location.href=u.href},300)})}catch(e){console.log("❌ خطأ في تشغيل الصوت:",e),setTimeout(()=>{window.location.href=u.href},300)}else console.log("⚠️ عنصر الصوت غير موجود - الانتقال المباشر"),setTimeout(()=>{window.location.href=u.href},300);e.preventDefault()}),elements.designerModal&&elements.designerModal.addEventListener("click",e=>{e.target===elements.designerModal&&hideModal()}),elements.settingsModal&&elements.settingsModal.addEventListener("click",e=>{e.target===elements.settingsModal&&hideSettingsModal()}),elements.loginModal&&elements.loginModal.addEventListener("click",e=>{e.target===elements.loginModal&&hideLoginModal()}),document.addEventListener("keydown",e=>{switch("Escape"===e.key&&("block"===elements.loginModal.style.display?hideLoginModal():"block"===elements.settingsModal.style.display?hideSettingsModal():"block"===elements.designerModal.style.display&&hideModal()),e.key){case"F11":e.preventDefault(),toggleFullScreen();break;case"Enter":"BUTTON"===e.target.tagName&&e.target.click()}}),console.log("✅ تم تهيئة جميع الأحداث بنجاح!")}),window.addEventListener("error",e=>{console.error("💥 خطأ عام في التطبيق:",e.error)}),window.addEventListener("unhandledrejection",e=>{console.error("💥 خطأ غير معالج في Promise:",e.reason)}),document.addEventListener("DOMContentLoaded",preventHorizontalScroll),window.addEventListener("resize",preventHorizontalScroll),window.addEventListener("load",preventHorizontalScroll),setInterval(preventHorizontalScroll,1e3),console.log("📝 تم تحميل جميع النصوص البرمجية!")</script><script src="assets/js/responsive-helper.js"></script><script>document.addEventListener("DOMContentLoaded",function(){window.responsiveHelper&&(console.log("🎯 تم تفعيل نظام التصميم المتجاوب"),window.addEventListener("devicechange",e=>{console.log("📱 تم تغيير نوع الجهاز إلى:",e.detail.device),document.body.classList.remove("mobile-device","tablet-device","desktop-device"),document.body.classList.add(e.detail.device+"-device")}),window.addEventListener("orientationchange",e=>{console.log("🔄 تم تغيير اتجاه الشاشة إلى:",e.detail.orientation),document.body.classList.remove("portrait-mode","landscape-mode"),document.body.classList.add(e.detail.orientation+"-mode")}))})</script></body></html>
